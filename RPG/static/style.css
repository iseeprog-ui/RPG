* { box-sizing: border-box; margin: 0; padding: 0; }
body {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background: radial-gradient(circle at top, #0f172a, #020617);
  color: #e5e7eb;
  height: 100vh;
  overflow: hidden;
}
#game-root { max-width: 1280px; margin: 0 auto; padding: 10px; }
.glass {
  background: rgba(15, 23, 42, 0.8);
  border-radius: 18px;
  border: 1px solid rgba(148, 163, 184, 0.5);
  box-shadow: 0 18px 45px rgba(15, 23, 42, 0.8);
}
.top-bar { display: flex; align-items: center; justify-content: space-between; padding: 8px 14px; margin-bottom: 8px; }
.title-main { font-weight: 700; font-size: 18px; }
.title-sub { font-size: 11px; opacity: 0.8; display: block; }
.top-bar-stats { display: flex; gap: 8px; align-items: center; }
.bar-group { font-size: 11px; }
.bar { width: 120px; height: 8px; border-radius: 999px; background: rgba(15,23,42,0.9); overflow: hidden; margin-top: 2px; }
.bar .fill { height: 100%; width: 0%; border-radius: 999px; transition: width 0.2s; }
.bar.hp .fill { background: #ef4444; }
.bar.mp .fill { background: #3b82f6; }
.bar.xp .fill { background: #eab308; }
.bar-value { font-size: 10px; opacity: 0.9; }
.meta-btn {
  font-size: 11px; padding: 3px 8px; border-radius: 999px; border: 1px solid rgba(148, 163, 184, 0.7);
  background: rgba(15,23,42,0.9); color: #e5e7eb; cursor: pointer;
}
.meta-btn:hover { border-color: #eab308; }

.layout { display: grid; grid-template-columns: 2fr 1fr; gap: 8px; }
.left-panel, .right-panel { display: flex; flex-direction: column; gap: 8px; }
.canvas-wrapper { position: relative; padding: 4px; }
#game-canvas { display: block; border-radius: 14px; background: #020617; }
.portal-hint { position: absolute; left: 50%; bottom: 8px; transform: translateX(-50%); padding: 3px 10px; border-radius: 999px; background: rgba(15, 23, 42, 0.9); border: 1px solid rgba(250, 204, 21, 0.8); font-size: 11px; }
.hidden { display: none; }
.controls { font-size: 11px; padding: 6px 10px; line-height: 1.4; }
.log { flex: 1; min-height: 80px; max-height: 150px; padding: 6px 10px; font-size: 11px; overflow-y: auto; }
.log-line { margin-bottom: 2px; }
.log-line.dmg { color: #f97373; }
.log-line.loot { color: #22c55e; }
.log-line.info { color: #38bdf8; }

.tabs { display: flex; gap: 4px; margin-bottom: 4px; }
.tab { flex: 1; padding: 6px 4px; border-radius: 999px; border: 1px solid rgba(148,163,184,0.6); background: rgba(15,23,42,0.9); font-size: 11px; cursor: pointer; }
.tab.active { border-color: #eab308; background: radial-gradient(circle at top, rgba(234,179,8,0.3), rgba(15,23,42,0.95)); }

.section { padding: 8px 10px; margin-bottom: 6px; }
.section h2 { font-size: 13px; margin-bottom: 4px; }
#char-summary { font-size: 11px; opacity: 0.9; }
.stats-list { list-style: none; font-size: 11px; }
.stats-list li { display: flex; justify-content: space-between; padding: 1px 0; }

.slot { width: 40px; height: 40px; background: #111827; border: 1px solid #3a7ca5; display: inline-block; margin: 2px; position: relative; border-radius: 6px; cursor: pointer; }
.slot .item-icon { display: flex; align-items: center; justify-content: center; width: 100%; height: 100%; font-size: 18px; }
.rarity-dot { position: absolute; width: 10px; height: 10px; border-radius: 50%; right: 4px; bottom: 4px; box-shadow: 0 0 8px currentColor; }
.slot .qty { position: absolute; bottom: 1px; right: 2px; font-size: 10px; color: #fff; text-shadow: 1px 1px 0 #000; }

.equip-row { display: flex; gap: 10px; align-items: center; font-size: 11px; }

.quest-list { list-style: none; font-size: 11px; }
.quest { padding: 6px 8px; border-radius: 10px; border: 1px solid rgba(75,85,99,0.9); margin-bottom: 4px; background: rgba(15,23,42,0.6); }
.quest.active { border-color: rgba(59,130,246,0.6); }
.quest.completed { border-color: #22c55e; color: #bbf7d0; }
.quest-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 2px; }
.quest-title { font-weight: 600; font-size: 12px; }
.quest-status { font-size: 10px; opacity: 0.75; }
.quest-meta { font-size: 10px; opacity: 0.65; margin-bottom: 2px; }
.quest-progress, .quest-reward { font-size: 10px; display: flex; justify-content: space-between; }
.quest-reward { opacity: 0.85; }

.overlay { position: fixed; inset: 0; display: flex; align-items: center; justify-content: center; background: rgba(0,0,0,0.7); }
.overlay.hidden { display: none; }
.overlay-panel { padding: 16px; max-width: 520px; }
.class-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 4px; }
.class-grid button { font-size: 11px; padding: 4px 6px; border-radius: 10px; border: 1px solid rgba(148,163,184,0.8); background: rgba(15,23,42,0.9); color: #e5e7eb; cursor: pointer; }
.class-grid button.selected { border-color: #eab308; }
.primary { margin-top: 8px; font-size: 12px; padding: 6px 14px; border-radius: 999px; border: none; background: linear-gradient(to right, #eab308, #f97316); color: #111827; font-weight: 600; cursor: pointer; }

.spec-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 6px; }
.spec-card { padding: 6px 8px; border-radius: 10px; border: 1px solid rgba(148, 163, 184, 0.7); background: rgba(30,64,175,0.25); cursor: pointer; font-size: 11px; }
.spec-card:hover { border-color: #eab308; }

.skill-tree-grid { display: flex; flex-wrap: wrap; justify-content: center; gap: 8px; margin-top: 8px; }
.node { width: 70px; height: 70px; background: #1a1a2e; border: 2px solid #3a7ca5; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; margin: 4px; cursor: pointer; font-size: 10px; text-align: center; padding: 4px; }
.node.unlocked { background: #22c55e; border-color: #16a34a; }
.node.locked { opacity: 0.4; }

@media (max-width: 900px) {
  #game-root { padding: 4px; }
  .layout { grid-template-columns: 1fr; }
}


#tooltip {
  position: fixed;
  background: rgba(15,23,42,0.96);
  padding: 6px 10px;
  border-radius: 8px;
  border: 1px solid rgba(148,163,184,0.9);
  font-size: 11px;
  pointer-events: none;
  z-index: 1000;
  max-width: 220px;
  display: none;
}
.item-name { font-weight: 600; margin-bottom: 2px; display: flex; align-items: center; gap: 4px; }
.rarity-common { color: #9ca3af; }
.rarity-uncommon { color: #22c55e; }
.rarity-rare { color: #3b82f6; }
.rarity-epic { color: #a855f7; }
.rarity-legendary { color: #f97316; }

.item-rarity-line { font-size: 10px; opacity: 0.75; }
.item-section { margin-top: 4px; padding-top: 4px; border-top: 1px solid rgba(148,163,184,0.2); }
.item-stat { display: flex; justify-content: space-between; font-size: 11px; }
.item-stat + .item-stat { margin-top: 2px; }
.legendary-block { border-left: 2px solid rgba(249,115,22,0.6); padding-left: 6px; margin-top: 6px; }
.legendary-title { font-size: 10px; color: #f97316; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 2px; }
.legendary-desc { font-size: 10px; color: #fde68a; margin-top: 3px; }
.special-block { border-left: 2px solid rgba(59,130,246,0.4); padding-left: 6px; margin-top: 6px; }
.special-title { font-size: 10px; color: #60a5fa; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 2px; }
.item-requirement { font-size: 10px; margin-top: 2px; }
.item-requirement.ok { color: #4ade80; }
.item-requirement.fail { color: #f87171; }
.item-section.compare-block { margin-top: 6px; }
.compare-title { font-size: 10px; opacity: 0.7; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 2px; }
.item-compare { display: flex; justify-content: space-between; font-size: 10px; }
.item-compare.better { color: #4ade80; }
.item-compare.worse { color: #f87171; }
.item-compare.neutral { color: #cbd5f5; text-align: center; }
.muted { opacity: 0.55; }
\n
.slot-common { border-color: #9ca3af; }
.slot-uncommon { border-color: #22c55e; }
.slot-rare { border-color: #3b82f6; }
.slot-epic { border-color: #a855f7; }
.slot-legendary { border-color: #f97316; box-shadow: 0 0 10px rgba(249,115,22,0.6); }
